<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <script type="text/javascript" src="/js/logo.js"></script>
  <script type="text/javascript" src="/js/force-autoplay.js"></script>
  <script type="text/javascript" src="/js/contextmenu.js"></script>
  <script type="text/javascript" src="/js/click-effect.js"></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#007FFF"><meta name="generator" content="Hexo 6.1.0">

<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon.png">
  <link rel="mask-icon" href="/img/favicon.png" color="#007FFF">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="/lib/@fortawesome/fontawesome-free/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="/lib/animate.css/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="/lib/pace-js/themes/blue/pace-theme-center-atom.css">
  <script src="/lib/pace-js/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"ayanami-daisuki.github.io","root":"/","images":"/img","scheme":"Pisces","darkmode":false,"version":"8.11.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#FFFFFF","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":true,"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>



<link rel="canonical" href="https://ayanami-daisuki.github.io/2022/03/12/VueGrammar01/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://ayanami-daisuki.github.io/2022/03/12/VueGrammar01/","path":"2022/03/12/VueGrammar01/","title":"Vue基础（一）"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Vue基础（一） | 形而上的坏死，形而下的凋亡</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
  <meta name="msvalidate.01" content="2DC98D673CEA63668E0E0390B0D5A92E" />
  <meta name="google-site-verification" content="1oFThEwTKR5SObaIdOL2PxGLwX-rE5ClaZKSAdhq3LY" />
  <meta name="google-site-verification" content="a7h6HxqLG_MHyjCraHg6yzJYNk3na2UIjP7AcWOrg_E" />
  <meta name="baidu-site-verification" content="code-PFGV5jFemX" />
  <meta name="baidu-site-verification" content="code-Z4QAODNN82" />
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">形而上的坏死，形而下的凋亡</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">共和国工科生的博客</p>
      <img class="custom-logo-image" src="/img/logo.png" alt="形而上的坏死，形而下的凋亡">
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">17</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">23</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">41</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <link rel="stylesheet" type="text/css" href="/css/aplayer.css">
  <div id="aplayer"></div>
  <script type="text/javascript" src="/js/aplayer.js"></script>
  <script type="text/javascript" src="/js/music.js"></script>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E7%AE%80%E4%BB%8B"><span class="nav-text">一、简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E5%85%A5%E9%97%A8"><span class="nav-text">二、入门</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="nav-text">(1) 模板语法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%8F%92%E5%80%BC%E8%AF%AD%E6%B3%95"><span class="nav-text">1. 插值语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%8C%87%E4%BB%A4%E8%AF%AD%E6%B3%95"><span class="nav-text">2. 指令语法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-el-%E4%B8%8E-data"><span class="nav-text">(2) el 与 data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86"><span class="nav-text">(3) 数据代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E4%BA%8B%E4%BB%B6"><span class="nav-text">(4) 事件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6"><span class="nav-text">1. 绑定事件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-text">2. 事件修饰符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-text">3. 按键修饰符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="nav-text">(5) 计算属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E4%BE%A6%E5%90%AC%E5%B1%9E%E6%80%A7"><span class="nav-text">(6) 侦听属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-set"><span class="nav-text">(7) set()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E6%8C%87%E4%BB%A4%E8%AF%AD%E6%B3%95"><span class="nav-text">三、指令语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%86%8D%E6%8E%A2-v-bind"><span class="nav-text">(1) 再探 v-bind</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E7%BB%91%E5%AE%9A-class"><span class="nav-text">1. 绑定 class</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E7%BB%91%E5%AE%9A-style"><span class="nav-text">2. 绑定 style</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E7%9A%84%E5%85%B6%E5%AE%83%E6%8C%87%E4%BB%A4%E8%AF%AD%E6%B3%95"><span class="nav-text">(2) 一些常见的其它指令语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="nav-text">(3) 自定义指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%87%BD%E6%95%B0%E5%BC%8F"><span class="nav-text">1. 函数式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%AF%B9%E8%B1%A1%E5%BC%8F"><span class="nav-text">2. 对象式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%85%A8%E5%B1%80%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="nav-text">3. 全局自定义指令</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="共和国工科生"
      src="/img/avatar.png">
  <p class="site-author-name" itemprop="name">共和国工科生</p>
  <div class="site-description" itemprop="description">二次元，多语言许可(中/あ/Eng)，程序员，社科趣味，东四区作息</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">41</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Ayanami-Daisuki" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Ayanami-Daisuki" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://gitee.com/RepublicEngineeringStudent" title="Gitee → https:&#x2F;&#x2F;gitee.com&#x2F;RepublicEngineeringStudent" rel="noopener" target="_blank"><i class="fab fa-google fa-fw"></i>Gitee</a>
      </span>
      <span class="links-of-author-item">
        <a href="/engineeringstudent@qq.com" title="E-Mail → engineeringstudent@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-cn" class="cc-opacity" rel="noopener" target="_blank"><img src="/lib/@creativecommons/vocabulary/assets/license_badges/big/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      学习资料
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://docs.microsoft.com/zh-cn/dotnet/" title="https:&#x2F;&#x2F;docs.microsoft.com&#x2F;zh-cn&#x2F;dotnet&#x2F;" rel="noopener" target="_blank">.NET</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://scisharp.github.io/SciSharp/" title="https:&#x2F;&#x2F;scisharp.github.io&#x2F;SciSharp&#x2F;" rel="noopener" target="_blank">SciSharp</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://jquery.cuishifeng.cn/" title="https:&#x2F;&#x2F;jquery.cuishifeng.cn&#x2F;" rel="noopener" target="_blank">jQuery</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://v3.cn.vuejs.org/api/" title="https:&#x2F;&#x2F;v3.cn.vuejs.org&#x2F;api&#x2F;" rel="noopener" target="_blank">VUE</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.electronjs.org/docs/latest/api/app" title="https:&#x2F;&#x2F;www.electronjs.org&#x2F;docs&#x2F;latest&#x2F;api&#x2F;app" rel="noopener" target="_blank">Electron</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ayanami-daisuki.github.io/2022/03/12/VueGrammar01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/avatar.png">
      <meta itemprop="name" content="共和国工科生">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="形而上的坏死，形而下的凋亡">
      <meta itemprop="description" content="二次元，多语言许可(中/あ/Eng)，程序员，社科趣味，东四区作息">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Vue基础（一） | 形而上的坏死，形而下的凋亡">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Vue基础（一）
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-03-12 21:19:44" itemprop="dateCreated datePublished" datetime="2022-03-12T21:19:44+08:00">2022-03-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-19 15:58:13" itemprop="dateModified" datetime="2022-04-19T15:58:13+08:00">2022-04-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" itemprop="url" rel="index"><span itemprop="name">计算机科学</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>21k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>19 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <img src="/2022/03/12/VueGrammar01/Title.png" alt="标题" style="width:100%;height:auto;">

<div class="note warning"><div style="color:goldenrod;font-size:1.5em;"><strong>前置条件</strong></div>

<div style="color:goldenrod;">理解本文需要有HTML和JavaScript基础，并且最好学过CSS。</div>
</div>

<span id="more"></span>

<h2 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a><strong>一、简介</strong></h2><p>Vue是一个开源的JavaScript库。它的目标是更好地开发网页。jQuery能更快地找到网页中的元素对象、更方便地设置事件、样式与动画等。而Vue，则实现了模块化。</p>
<p>关于Vue库与开发者插件的下载请自行百度，此处不做赘述。在使用Vue库之前，应当先在HTML文件中引入Vue库：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="二、入门"><a href="#二、入门" class="headerlink" title="二、入门"></a><strong>二、入门</strong></h2><h3 id="1-模板语法"><a href="#1-模板语法" class="headerlink" title="(1) 模板语法"></a><strong>(1) 模板语法</strong></h3><p>在Vue中，被Vue截关的HTML元素中的“异常”语法被称为模板语法。模板语法分为两种，插值语法和指令语法。</p>
<h4 id="1-插值语法"><a href="#1-插值语法" class="headerlink" title="1. 插值语法"></a><strong>1. 插值语法</strong></h4><p>在Vue的库中有一个名为 <code>Vue</code> 的构造函数。该构造函数必须使用 <code>new</code> 关键字创建实例对象后才能使用。该实例会“接管”HTML中的<span style="color:red;">一个</span>元素。</p>
<p>本文的代码样例将只写出 <code>&lt;body&gt;</code> 元素内的代码。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;text&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 创建Vue匿名实例，传入的参数是一个匿名对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 匿名对象有一个el属性</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 它是element的缩写，代表HTML元素</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 其值应符合CSS选择器的语法</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 存储要替换的数据</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">text</span>: <span class="string">&quot;Hello, world!&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>网页的表现为：</p>
<p><img src="/2022/03/12/VueGrammar01/1.jpg" alt="1 1" title="1"></p>
<p>网页并没有显示 <code>&#123;&#123;text&#125;&#125;</code> ，而是显示了 <code>Hello, world!</code> 。这是因为Vue实例接管了id为 <code>test</code> 的元素。</p>
<p>Vue和PHP略有相似之处。Vue中的标记语法是 <code>&#123;&#123;&#125;&#125;</code> ，在两个大括号内的字符将被认为是“变量”，它会被替换掉。Vue会在传入构造函数的对象中寻找 <code>data</code> 对象中的属性，若有与“变量”相符的属性名，则将 <code>&#123;&#123;&#125;&#125;</code> 连同其中的“变量”替换为属性值。若没有，则会删除之。</p>
<div class="note warning"><div style="color:goldenrod;font-size:1.5em;"><strong>Vue实例与HTML元素</strong></div>

<div style="color:goldenrod;">一个Vue实例只能接管一个HTML元素；一个HTML元素只能被一个Vue实例接管。即Vue实例与HTML元素是一一对应关系。这就是为什么Vue非常适合模块化开发。</div>
</div>

<p>此外，在 <code>&#123;&#123;&#125;&#125;</code> 中也能写JavaScript中会产生值的函数或表达式。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;text.toUpperCase()&#125;&#125;, &#123;&#123;Date.now()&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">text</span>: <span class="string">&quot;Hello, world!&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>上述的代码将会把 <code>Hello,world!</code> 转换为全大写输出，并打印 <code>Date.now()</code> 的值。</p>
<h4 id="2-指令语法"><a href="#2-指令语法" class="headerlink" title="2. 指令语法"></a><strong>2. 指令语法</strong></h4><p>插值语法是用于替换HTML的文本内容的，而指令语法则用于替换HTML的元素的属性。在HTML元素的属性之前加上 <code>v-bind:</code> 关键字即可。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引号内不需要使用&#123;&#123;&#125;&#125; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-bind:style</span>=<span class="string">&quot;Type&quot;</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Type</span>: <span class="string">&quot;color:red;&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>上述代码将会把 <code>Hello, world!</code> 文本以红色字体显示。 <code>v-bind:</code> 关键字指示其后的第一个属性的值，是指令语法，它应当被替换。目前版本的Vue已经支持将 <code>v-bind:</code> 简写为 <code>:</code> 。</p>
<p>Vue中还有除了 <code>v-bind</code> 外其他的指令语法，这里先只介绍一种： <code>v-model</code> ，其余的下文会慢慢叙述。它的所绑定的属性值是双向影响的。如果该值在网页中因“外力”而改变，那么绑定在其上的对应的变量也会改变。但它有它的局限性， <code>v-bind</code> 可以用于任意的HTML元素，而 <code>v-model</code> 只能用于表单类元素的 <code>value</code> 等属性。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 使用v-model绑定 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model:value</span>=<span class="string">&quot;Value&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Value</span>: <span class="string">&quot;请给定输入&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当改变输入框中的内容以后，<code>Value</code> 的值也会跟着改变。</p>
<p><img src="/2022/03/12/VueGrammar01/2.png" alt="1 1"></p>
<div class="note info"><div style="color:royalblue;font-size:1.5em;"><strong>Vue开发者插件</strong></div>

<div style="color:royalblue;">Vue有适用于Chrome内核的浏览器的插件，该插件能够查看Vue中实例的详细信息。上图就展示了Vue实例中 <code>data</code> 对象的属性。可以看到该属性是随着输入框的内容变化而变化的。</div>
</div>

<p>此外， <code>v-model:value</code> 可以简写为 <code>v-model</code> 。</p>
<h3 id="2-el-与-data"><a href="#2-el-与-data" class="headerlink" title="(2) el 与 data"></a><strong>(2) <code>el</code> 与 <code>data</code></strong></h3><p>Vue允许初始化时空置 <code>el</code> 属性，可以之后再追加该属性。追加该属性需要用到 <code>$mount()</code> 函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Item</span> = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="title class_">Value</span>: <span class="string">&quot;请给定输入&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 同样是使用CSS语法</span></span><br><span class="line"><span class="title class_">Item</span>.$mount(<span class="string">&quot;#test&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><code>data</code> 属性可以直接设置为对象，也可以设置为一个返回对象的函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Item</span> = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="title class_">Value</span>: <span class="string">&quot;来点输入&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* 也可以简写为：</span></span><br><span class="line"><span class="comment">    data()</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        return &#123;</span></span><br><span class="line"><span class="comment">            Value: &quot;来点输入&quot;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Item</span>.$mount(<span class="string">&quot;#test&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>上述代码同样能正常生效，但不允许使用lambda表达式的函数。</p>
<div class="note danger"><div style="color:darkred;font-size:1.5em;"><strong>lambda表达式的局限性</strong></div>

<div style="color:darkred;">lambda表达式所创建的函数，其 <code>this</code> 指针是“异常”的。</div>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> temp = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用lambda表达式定义的方法</span></span><br><span class="line">    <span class="attr">fun1</span>: <span class="function">() =&gt;</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;From fun1() :&quot;</span>);</span><br><span class="line">        <span class="comment">// 打印this指针</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用函数定义的方法</span></span><br><span class="line">    <span class="attr">fun2</span>: <span class="keyword">function</span> (<span class="params"></span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;From fun2() :&quot;</span>);</span><br><span class="line">        <span class="comment">// 打印this指针</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">temp.<span class="title function_">fun1</span>();</span><br><span class="line">temp.<span class="title function_">fun2</span>();</span><br></pre></td></tr></table></figure>

<div style="color:darkred;">使用 <code>node</code> 运行上述JavaScript代码，其输出结果为：</div>

<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">node Hello.js</span></span><br><span class="line">From fun1() :</span><br><span class="line">&#123;&#125;</span><br><span class="line">From fun2() :</span><br><span class="line">&#123; fun1: [Function: fun1], fun2: [Function: fun2] &#125;</span><br></pre></td></tr></table></figure>

<div style="color:darkred;">可以看到，使用lambda表达式的 <code>this</code> 指针并没有指向调用它的对象，而是指向了 <code>temp</code> 对象所处的环境，即上下文对象。这是非常危险的。</div>
</div>

<h3 id="3-数据代理"><a href="#3-数据代理" class="headerlink" title="(3) 数据代理"></a><strong>(3) 数据代理</strong></h3><p>首先需要介绍 <code>defineProperty()</code> 方法。该方法定义在 <code>Object</code> 对象下，是JavaScript内置的对象。Vue底层很多原理都应用到了这个方法。该方法会为指定的对象添加属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 新建HIE对象</span></span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">HIE</span> = &#123;</span><br><span class="line">    <span class="title class_">Name</span>: <span class="string">&quot;Lacia&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为HIE添加Type属性</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="variable constant_">HIE</span>, <span class="string">&quot;Type&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&quot;Type-005&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 查看HIE的属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">HIE</span>);</span><br><span class="line"><span class="comment">// 查看HIE的Type属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">HIE</span>.<span class="property">Type</span>);</span><br></pre></td></tr></table></figure>

<p>输出结果为：</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">node Hello.js</span></span><br><span class="line">&#123; Name: &#x27;Lacia&#x27; &#125;</span><br><span class="line">Type-005</span><br></pre></td></tr></table></figure>

<p>可以看见，输出的 <code>HIE</code> 对象中并不包含 <code>Type</code> 属性，但是输出 <code>Type</code> 属性却是正常的。这是因为，由 <code>defineProperty()</code> 方法添加的属性是不可遍历的。</p>
<div class="note info"><div style="color:royalblue;font-size:1.5em;"><strong>属性的属性</strong></div>

<div style="color:royalblue;">虽然很绕，但是对象的属性也有属性。这些属性可以通过 <code>getOwnPropertyDescriptor()</code> 方法查看，该方法定义在 <code>Object</code> 对象下。</div>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Name property : &quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(<span class="variable constant_">HIE</span>, <span class="string">&quot;Name&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Type property : &quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(<span class="variable constant_">HIE</span>, <span class="string">&quot;Type&quot;</span>));</span><br></pre></td></tr></table></figure>

<div style="color:royalblue;">输出结果为：</div>

<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123; Name: &#x27;Lacia&#x27; &#125;</span><br><span class="line">Type-005</span><br><span class="line"></span><br><span class="line">Name property :</span><br><span class="line">&#123;</span><br><span class="line">  value: &#x27;Lacia&#x27;,</span><br><span class="line">  writable: true,</span><br><span class="line">  enumerable: true,</span><br><span class="line">  configurable: true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Type property :</span><br><span class="line">&#123;</span><br><span class="line">  value: &#x27;Type-005&#x27;,</span><br><span class="line">  writable: false,</span><br><span class="line">  enumerable: false,</span><br><span class="line">  configurable: false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<div style="color:royalblue;">上述输出结果展示了属性的属性。<code>value</code> 属性代表它的值， <code>writable</code> 属性代表它可不可以被修改， <code>enumerable</code> 属性代表它可不可以被枚举， <code>configurable</code> 属性代表它可不可以被删除。这些属性的属性都可以通过 <code>defineProperty()</code> 来设置。</div>
</div>

<p>除了上述列举的四种属性，对象的属性还有两个方法： <code>get()</code> 和 <code>set()</code> 。使用这两个方法可以将该属性的属性值与某个外部变量关联起来。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个空对象</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Communism</span> = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个外部变量</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Now</span> = <span class="number">2022</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加属性</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="title class_">Communism</span>, <span class="string">&quot;Experienced&quot;</span>, &#123;</span><br><span class="line">    <span class="comment">// 当设置get与set方法时</span></span><br><span class="line">    <span class="comment">// 不允许设置其它四个属性</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 该方法的返回值会作为属性值</span></span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="title class_">Now</span> - <span class="number">1848</span>)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 该方法会改变外部变量，从而影响get方法</span></span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">Value</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="title class_">Now</span> = <span class="title class_">Value</span> + <span class="number">1848</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印属性值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Communism.Experienced : &quot;</span> + <span class="title class_">Communism</span>.<span class="property">Experienced</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 改变外部变量后检查属性值</span></span><br><span class="line"><span class="title class_">Now</span> = <span class="number">1917</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Communism.Experienced : &quot;</span> + <span class="title class_">Communism</span>.<span class="property">Experienced</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 改变属性值后检查外部变量</span></span><br><span class="line"><span class="title class_">Communism</span>.<span class="property">Experienced</span> = <span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Now = &quot;</span> + <span class="title class_">Now</span>);</span><br></pre></td></tr></table></figure>

<p>输出结果为：</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">node Hello.js</span></span><br><span class="line">Communism.Experienced : 174</span><br><span class="line">Communism.Experienced : 69</span><br><span class="line">Now = 1848</span><br></pre></td></tr></table></figure>

<p>可以看见，上述代码中， <code>Communism</code> 对象的 <code>Experienced</code> 属性与外部变量 <code>Now</code> 关联起来了。Vue将HTML中的“变量”与Vue实例中的属性关联起来的底层原理就是上述代码的原理。这就是数据代理。</p>
<p>通过Vue的构造函数来创建的Vue对象，含有作为参数的对象的 <code>data</code> 属性的属性。这些属性是一一对应且互相绑定的，其实现原理是上述的数据代理。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;Value&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 不使用匿名对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> <span class="title class_">Config</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Value</span>: <span class="number">114514</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 创建Vue实例</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title class_">Item</span> = <span class="keyword">new</span> <span class="title class_">Vue</span>(<span class="title class_">Config</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>上述代码的效果为：</p>
<p><img src="/2022/03/12/VueGrammar01/3.png" alt="3 3" title="3"></p>
<p>当在控制台中修改 <code>Config.data.Value</code> 的值时，网页中的内容也随之变化：</p>
<p><img src="/2022/03/12/VueGrammar01/4.png" alt="4 4" title="4"></p>
<p>当在控制台中输入 <code>Item</code> ，查看Vue实例的属性时，可以看到它有一个名为 <code>Value</code> 的属性，并且拥有 <code>get</code> 与 <code>set</code> 方法。</p>
<p><img src="/2022/03/12/VueGrammar01/5.png" alt="5 5" title="5"></p>
<p><code>get</code> 与 <code>set</code> 方法由于滚动条限制没有截取到。<del>就这么大点的图压缩了都有30KB，要老命了，这个博客网页加载慢80%是图片大小的原因，15%是CDN的原因，5%是托管平台的原因。</del>上述的过程也说明了插值语法的“变量”是在Vue实例的属性中查找的。</p>
<p>此外，Vue实例中的 <code>_data</code> 属性与作为参数传入的对象的 <code>data</code> 属性指向同一个堆地址，即它们是同一个对象，使用 <code>===</code> 判断是否相等将返回 <code>true</code> 。因此传入Vue实例的对象不一定非要“有名字”，作为匿名对象传入后，其 <code>data</code> 属性依然能够通过Vue实例的 <code>_data</code> 属性修改。</p>
<div class="note danger"><div style="color:darkred;font-size:1.5em;"><strong>修改 <code>data</code> 属性下的数组</strong></div>

<div style="color:darkred;">切记不要用索引来修改Vue中的数组！否则将发生不幸的事故。</div>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;HIE[0]&#125;&#125;, &#123;&#123;HIE[1]&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> <span class="title class_">Item</span> = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">HIE</span>: [<span class="string">&quot;Kouka&quot;</span>, <span class="string">&quot;Lacia&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style="color:darkred;">上述代码的效果如下：</div>

<p><img src="/2022/03/12/VueGrammar01/16.png" alt="16 16" title="16"></p>
<div style="color:darkred;">在控制台中尝试使用索引修改 <code>HIE</code> 的第一个元素：</div>

<p><img src="/2022/03/12/VueGrammar01/17.png" alt="17 17" title="17"></p>
<div style="color:darkred;">不幸的事故发生了，元素修改成功了，但没能引发Vue更新HTML，网页上的显示结果没有改变。这是因为Vue并没有监测使用索引引修改数组的行为。能被监测到的修改数组的行为，只有如下方法：

<ul>
<li><code>push()</code></li>
<li><code>pop()</code></li>
<li><code>unshift()</code></li>
<li><code>shift()</code></li>
<li><code>sort()</code></li>
<li><code>reverse()</code></li>
<li><code>splice()</code></li>
</ul>
<p>上述方法虽然是常见的数组对象的方法，功能也一致，但是在Vue实例中，它们是Vue“重写”的方法。其中，能够修改数组元素的是 <code>splice()</code> 方法。因此正确的修改行为应该是：</p>
</div>

<p><img src="/2022/03/12/VueGrammar01/18.png" alt="18 18" title="18"></p>
</div>

<h3 id="4-事件"><a href="#4-事件" class="headerlink" title="(4) 事件"></a><strong>(4) 事件</strong></h3><p>在Vue中使用的事件名，不需要写 <code>on</code> 。例如当按键被按下时想触发事件，应在HTML元素中添加 <code>onkeydown</code> 属性；而在Vue中，使用 <code>keydown</code> 即可。</p>
<h4 id="1-绑定事件"><a href="#1-绑定事件" class="headerlink" title="1. 绑定事件"></a><strong>1. 绑定事件</strong></h4><p>使用 <code>v-on:</code> 关键字修饰HTML元素的属性，可以将其值设置为一个函数名。这个函数需要定义在Vue构造函数的参数对象的 <code>methods</code> 属性下。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;ButtonClicked&quot;</span>&gt;</span>&#123;&#123;Value&#125;&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Value</span>: <span class="number">114514</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// v-on绑定的事件将会在该属性内寻找回调函数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">ButtonClicked</span>(event)</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">Value</span> = <span class="number">1919810</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div class="note info"><div style="color:royalblue;font-size:1.5em;"><strong>事件对象</strong></div>

<div style="color:royalblue;">网页事件触发时将会调用JavaScript的回调函数，并且会传入一个参数，该参数即为事件对象。事件对象有很多方便的属性，例如是哪个HTML元素触发了这个事件，触发事件时鼠标的位置等，此处不做赘述，详情请参见 <a class="btn" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Event ">MDN Web 文档</a> 。</div>
</div>

<p>上述的代码在浏览器中会生成一个按钮，其上的文本为“114514”，单击按钮以后其上的文本变成“1919810”。</p>
<p>在Vue构造函数的参数对象中， <code>methods</code> 属性下的属性不会做数据代理。因此建议将回调函数写在该属性下（因为它们不会被修改0）。另外，上述方式设置的事件也能设置要传递的参数。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- $event是一个特殊的符号，Vue会将其解析为事件对象 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 当省略()时，将默认传递且传递事件对象参数 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;ButtonClicked($event,Date.now(),$event.target)&quot;</span>&gt;</span>&#123;&#123;Value&#125;&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Value</span>: <span class="number">114514</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">ButtonClicked</span>(a, b, c)</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(c);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>上述的代码在点击按钮后将会在控制台中打印：</p>
<p><img src="/2022/03/12/VueGrammar01/6.png" alt="6 6" title="6"></p>
<p>此外， <code>v-on:</code> 关键字可以简写为 <code>@</code> 符号，它们在Vue解析时是等价的。</p>
<h4 id="2-事件修饰符"><a href="#2-事件修饰符" class="headerlink" title="2. 事件修饰符"></a><strong>2. 事件修饰符</strong></h4><p>Vue中存在事件修饰符，它可以修改事件的一些行为。事件修饰符的用法如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;ButtonClicked&quot;</span>&gt;</span>&#123;&#123;Value&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>上述代码中的 <code>.prevent</code> 即为事件修饰符。Vue中的常见的事件修饰符如下：</p>
<table>
<thead>
<tr>
<th align="center">事件修饰符</th>
<th align="center">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>.prevent</code></td>
<td align="center">阻止默认事件</td>
</tr>
<tr>
<td align="center"><code>.stop</code></td>
<td align="center">阻止事件冒泡</td>
</tr>
<tr>
<td align="center"><code>.once</code></td>
<td align="center">事件只被触发一次</td>
</tr>
<tr>
<td align="center"><code>.capture</code></td>
<td align="center">使用事件的捕获模式</td>
</tr>
<tr>
<td align="center"><code>.self</code></td>
<td align="center">仅当 <code>event.target</code> 是本元素时才触发事件</td>
</tr>
<tr>
<td align="center"><code>.passive</code></td>
<td align="center">触发事件时立即执行默认行为</td>
</tr>
</tbody></table>
<div class="note info"><div style="color:royalblue;font-size:1.5em;"><strong>捕获与冒泡</strong></div>

<div style="color:royalblue;">在嵌套结构的HTML元素中，如果同时触发了内外的事件（例如内层 <code>&lt;div&gt;</code> 和外层 <code>&lt;div&gt;</code> 都定义了鼠标单击事件），那么就存在事件处理的先后顺序。从外层元素的事件开始处理，是事件的捕获模式；从内层元素的事件开始处理，则是事件的冒泡模式。默认的事件处理行为是冒泡模式。</div>
</div>

<p>所有的修饰符都是允许叠加、允许混搭的，包括下述的修饰符。</p>
<h4 id="3-按键修饰符"><a href="#3-按键修饰符" class="headerlink" title="3. 按键修饰符"></a><strong>3. 按键修饰符</strong></h4><p>Vue中还存在按键修饰符，即指定当何种按键被按下时才会触发事件。这些修饰符一般用于 <code>keydown</code> 和 <code>keyup</code> 事件。</p>
<div class="note info"><div style="color:royalblue;font-size:1.5em;"><strong><code>keydown</code> 与 <code>keyup</code></strong></div>

<div style="color:royalblue;"><code>keydown</code> 事件是在按键按下时立即触发，而 <code>keyup</code> 则是松开按键时才会触发。这两个事件的特性造成了它们之间的差异：前者可以捕获Windows键、Tab键、Shift键、Alt键和Ctrl键，而后者在某些浏览器上不行，这取决于浏览器的处理顺序。</div>
</div>

<p>这些修饰符虽然数量庞大，但有规律可循：键盘上的按键有两种唯一区分的标记，一个是按键名，另一个是按键码。 <code>.按键名</code> 或者 <code>.按键码</code> 即为按键修饰符。<span style="color:red;">推荐使用按键名，因为似乎按键码已经开始逐渐不被支持了</span>。</p>
<div class="note warning"><div style="color:goldenrod;font-size:1.5em;"><strong>按键名的规则与按键修饰符的局限性</strong></div>

<div style="color:goldenrod;">JavaScript标记的按键名是驼峰规则书写的，例如 <code>CapsLock</code> ，而Vue则要求你将其转换为全小写的“烤串”规则，即以 <code>caps-lock</code> 作为对应的按键修饰符。<br>
另外，并不是所有的按键都可以被JavaScript捕获。但常用的按键都可以被捕获，所以放心大胆地用就完事辣！</div>
</div>

<p>你可以百度搜索“键码”以查找按键码，也可以通过下面的输入框来测试你键盘上各个按键的按键名与按键码。</p>
<div style="text-align:center;">
    <input id="KeyboardChecker" type="text" placeholder="点我以进行测试" onkeyup="this.value='按键名：'+event.key+'    按键码：'+event.keyCode;" readonly style="width:80%;height:100%;text-align:center;">
</div>

<p>上述的输入框不会接受用户输入，可以放心折腾。请先点击上面的输入框，再按键盘即可获取按键名与按键码。上述功能的JavaScript实现很简单：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">value</span> = <span class="string">&#x27;按键名：&#x27;</span> + event.<span class="property">key</span> + <span class="string">&#x27;    按键码：&#x27;</span> + event.<span class="property">keyCode</span>;</span><br></pre></td></tr></table></figure>

<p>其中 <code>this</code> 代表触发该事件的HTML元素，即输入框，它的 <code>value</code> 属性就是其中的显示文本。 <code>event</code> 是事件对象，该对象的 <code>key</code> 属性是触发该事件的按键名， <code>keyCode</code> 属性则是该按键的按键码。</p>
<p>另外， <code>.exact</code> 关键字将会让事件在<span style="color:red;">按下且仅按下指定的按键</span>时才触发。</p>
<h3 id="5-计算属性"><a href="#5-计算属性" class="headerlink" title="(5) 计算属性"></a><strong>(5) 计算属性</strong></h3><p>当Vue的插值语法中的“变量”值，是需要根据其它的“变量”而得出时，就需要使用计算属性。在Vue构造函数的参数对象中的 <code>computed</code> 属性即为计算属性。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 插值语法，Base与Index都是data属性的属性 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 要求输入为数字 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;Base&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;Index&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Result为计算属性，根据Base与Index得到 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;Result&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Index</span>: <span class="string">&quot;1&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Base</span>: <span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 定义计算属性</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 计算属性本身是一个对象</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 它必须要有get方法，可以没有set方法（如果是只读的话）</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Result</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">get</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 简单的指数运算，但要先类型转换</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// Vue会将函数的调用者设置为Vue实例</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 即：在Vue实例中的方法中，this指针将永远指向Vue实例</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">Base</span>), <span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">Index</span>));</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>上述代码是一个简单的指数运算代码，并且没有做输入检查（即指数与底数不允许同时为0，不允许输入为空）。其效果如下：</p>
<p><img src="/2022/03/12/VueGrammar01/7.png" alt="7 7" title="7"></p>
<div class="note danger"><div style="color:darkred;font-size:1.5em;"><strong>不要使用方法或插值语法！</strong></div>

<div style="color:darkred;">上述的效果当然也可以使用插值语法搭配 <code>methods</code> 属性实现，或只使用插值语法也行。但这存在一个严重的问题：计算出的值无法复用。上述两种替代方案不论哪种，每当需要值时，都会再计算一次。</div>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;Base&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;Index&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 多写一点，看看调用的次数 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;Result&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;Result&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;Result&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;Result&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;Result0()&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;Result0()&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;Result0()&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;Result0()&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Index</span>: <span class="string">&quot;1&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Base</span>: <span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Result0</span>()</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 看使用methods时会被调用多少次</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;函数被调用&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">Base</span>), <span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">Index</span>));</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Result</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">get</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 看看计算属性的调用次数</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;重新计算值&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">Base</span>), <span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">Index</span>));</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div style="color:darkred;">控制台输出结果为：</div>

<p><img src="/2022/03/12/VueGrammar01/8.png" alt="8 8" title="8"></p>
<div style="color:darkred;">使用 <code>methods</code> 属性 + 插值语法的方式，每遇到一次就计算一次。当调用次数很庞大时，网页性能将大幅下降。而计算属性则只会计算一次，显然计算属性优势明显。</div>
</div>

<p>上面的例子说明，Vue为计算属性维护了一个“缓存”，每次都从“缓存”中读取数据。刷新“缓存”，执行计算的时机有二：</p>
<ol>
<li>首次加载时</li>
<li>依赖的值改变时</li>
</ol>
<p>当只计算属性是只读时，可以直接把计算属性简写为函数而不是一个有 <code>get</code> 方法的对象。</p>
<h3 id="6-侦听属性"><a href="#6-侦听属性" class="headerlink" title="(6) 侦听属性"></a><strong>(6) 侦听属性</strong></h3><p>Vue允许侦听Vue实例的 <code>data</code> 的属性的值的变化<span style="color:red;">与计算属性</span>的值的变化，并在变化时执行指定的方法。实现侦听功能需要在Vue的构造函数的参数对象中添加 <code>watch</code> 属性。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;Input&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Input</span>: <span class="string">&quot;114514&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 设置侦听属性</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 要侦听data中的Input属性</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Input</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 是否要在加载HTML时就执行</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">immediate</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// Input值变化时会执行handler方法</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">handler</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Value changing detected.&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>上述代码的效果如下：</p>
<p><img src="/2022/03/12/VueGrammar01/9.png" alt="9 9" title="9"></p>
<p>可以看见控制台在加载HTML时输出了一次 <code>Value changing detected.</code> ，并在改变文本框内容时再次输出。夹在这两次输出中间的输出，是Vue.js的开发者版本发出的信息，指示这是开发者版本，请只在开发模式下使用它，而不要在生产中使用。</p>
<p>侦听属性也可以在已经创建完Vue对象后在添加，只需要使用Vue对象的 <code>$watch()</code> 方法即可。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Item</span> = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="comment">// ··········</span></span><br><span class="line">    <span class="comment">// 此处省略代码</span></span><br><span class="line">    <span class="comment">// ··········</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义data属性</span></span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="title class_">Input</span>: <span class="string">&quot;114514&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加侦听属性</span></span><br><span class="line"><span class="comment">// 属性名一定要传字符串</span></span><br><span class="line"><span class="title class_">Item</span>.$watch(<span class="string">&quot;Input&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="title function_">handler</span>(<span class="params"></span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Value changing detected.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>上述两种方式是等价的，选择哪一种都行。下面详述 <code>handler</code> 方法。该方法是Vue设置的、在值更改时会自动调用的方法，它有两个参数：新值、旧值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;Input&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Input</span>: <span class="string">&quot;114514&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Input</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">immediate</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">handler</span>(<span class="params">NewValue, OldValue, test</span>)</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;新值：&quot;</span> + <span class="title class_">NewValue</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;旧值：&quot;</span> + <span class="title class_">OldValue</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;测试有无值：&quot;</span> + test);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>改变输入框中的值，控制台中会打印：</p>
<p><img src="/2022/03/12/VueGrammar01/10.png" alt="10 10" title="10"></p>
<p>另外，在 <code>watch</code> 属性中，还可以有一个属性： <code>deep</code> 。当它为 <code>true</code> 时，将会检测 <code>data</code> 内的属性内的属性的值是否改变。它默认是 <code>false</code> 。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;Layer.Trash.Input&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Layer</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title class_">Trash</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title class_">Input</span>: <span class="string">&quot;114514&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Layer</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 启用深度监测</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 当它为false时，控制台将不会有任何输出</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">deep</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">handler</span>(<span class="params">NewValue</span>)</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">NewValue</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>改变输入框中的值，控制台将会打印：</p>
<p><img src="/2022/03/12/VueGrammar01/11.png" alt="11 11" title="11"></p>
<p>可以看见成功监测到了 <code>Input</code> 值的改变，并且打印出的对象确实是 <code>Layer</code> 。</p>
<p>当侦听属性不需要设置额外的参数，只需要设置 <code>handler</code> 方法时，可以直接将其简写为方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 省略部分代码 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一种</span></span><br><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="title class_">Input</span>(<span class="title class_">NewValue</span>, <span class="title class_">OldValue</span>) &#123;</span><br><span class="line">        <span class="comment">// ······</span></span><br><span class="line">        <span class="comment">// 你的代码</span></span><br><span class="line">        <span class="comment">// ······</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种</span></span><br><span class="line"><span class="title class_">Item</span>.$watch(<span class="string">&quot;Input&quot;</span>, <span class="keyword">function</span> (<span class="params">NewValue, OldValue</span>) &#123;</span><br><span class="line">        <span class="comment">// ······</span></span><br><span class="line">        <span class="comment">// 你的代码</span></span><br><span class="line">        <span class="comment">// ······</span></span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>计算属性和侦听属性的区别在于，后者能完成的前者都能做，反之则不成立，但在二者都能实现的功能中，后者往往比前者更简洁。侦听属性可以利用 <code>setTimeout()</code> 函数实现延时更新，但计算属性不行。</p>
<div class="note info"><div style="color:royalblue;font-size:1.5em;"><strong><code>watch</code> 的一个专有功能</strong></div>

<div style="color:royalblue;">使用 <code>watch</code> 可以实现延迟更新，但 <code>computed</code> 不行。回调函数应当使用lambda表达式，因为lambda表达式的 <code>this</code> 指针指向调用该函数的对象所处的环境，在 <code>setTimeout()</code> 函数中，lambda表达式被  <code>setTimeout()</code> 函数调用，而该函数所处的环境是设置的侦听属性，是由Vue管理的，因此 <code>this</code> 最终会指向Vue实例。</div>
</div>

<h3 id="7-set"><a href="#7-set" class="headerlink" title="(7) set()"></a><strong>(7) <code>set()</code></strong></h3><p>此处的 <code>set()</code> 不是上文所述的对象的 <code>set()</code> 方法，而是Vue的 <code>set()</code> 方法。在已经实例化Vue对象后，若还想向该对象中添加数据，就必须使用Vue提供的 <code>set()</code> 方法，否则添加的属性不会有数据代理也不会有相应的HTML实时更新。</p>
<p>该方法接受三个参数，分别是要添加数据的对象、要添加的属性名、要添加属性的初始值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 无序列表，下文将会向其中添加元素 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(Element,Index) in List&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;Element.Name&#125;&#125;，&#123;&#123;Element.Type&#125;&#125;，&#123;&#123;Index&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> <span class="title class_">Item</span> = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">List</span>: [</span></span><br><span class="line"><span class="language-javascript">                &#123; <span class="title class_">Name</span>: <span class="string">&quot;Lacia&quot;</span>, <span class="title class_">Type</span>: <span class="string">&quot;Type-005&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123; <span class="title class_">Name</span>: <span class="string">&quot;Kouka&quot;</span>, <span class="title class_">Type</span>: <span class="string">&quot;Type-001&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123; <span class="title class_">Name</span>: <span class="string">&quot;Method&quot;</span>, <span class="title class_">Type</span>: <span class="string">&quot;Type-004&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// Vue的set()方法</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="title function_">set</span>(<span class="title class_">Item</span>.<span class="property">List</span>, <span class="number">3</span>, &#123; <span class="title class_">Name</span>: <span class="string">&quot;Undefined&quot;</span>, <span class="title class_">Type</span>: <span class="string">&quot;Unknown&quot;</span> &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>网页效果为：</p>
<p><img src="/2022/03/12/VueGrammar01/15.png" alt="15 15" title="15"></p>
<p>Vue对象还有 <code>$set()</code> 方法，它和 <code>set()</code> 方法是等价的。此处就不做演示。 <code>set()</code> 方法存在局限性，即它只能给 <code>data</code> 属性内的对象添加数据，而不能给Vue实例、 <code>data</code> 添加数据。</p>
<h2 id="三、指令语法"><a href="#三、指令语法" class="headerlink" title="三、指令语法"></a><strong>三、指令语法</strong></h2><h3 id="1-再探-v-bind"><a href="#1-再探-v-bind" class="headerlink" title="(1) 再探 v-bind"></a><strong>(1) 再探 <code>v-bind</code></strong></h3><h4 id="1-绑定-class"><a href="#1-绑定-class" class="headerlink" title="1. 绑定 class"></a><strong>1. 绑定 <code>class</code></strong></h4><p>当 <code>:</code> 绑定 <code>class</code> 属性时，原生的 <code>class</code> 会和 <code>:class</code> 一起生效。 <code>:class</code> 可以接受数组与对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第一种写法</span></span><br><span class="line">        <span class="title class_">Value0</span>: [<span class="string">&#x27;class0&#x27;</span>, <span class="string">&#x27;class1&#x27;</span>, <span class="string">&#x27;class3&#x27;</span>],</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第二种写法</span></span><br><span class="line">        <span class="comment">// true表示启用该类名，false表示禁用</span></span><br><span class="line">        <span class="title class_">Value1</span>: &#123;</span><br><span class="line">            <span class="attr">class0</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">class1</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">class2</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">class3</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>上述两种写法等价。数组写法常用于类名个数不确定或类名不确定的情况；对象写法常用于类名确定，但不确定要不要启用的情况。</p>
<h4 id="2-绑定-style"><a href="#2-绑定-style" class="headerlink" title="2. 绑定 style"></a><strong>2. 绑定 <code>style</code></strong></h4><p>当 <code>:</code> 绑定 <code>style</code> 属性时，其绑定值应当是一个对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">style</span>: &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 由于原属性含有“-”，因此需要使用引号</span></span><br><span class="line">            <span class="string">&quot;background-color&quot;</span>: <span class="string">&quot;red&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>:style</code> 也能接受对象数组，所有该数组内的对象所表示的样式会叠加生效。</p>
<h3 id="2-一些常见的其它指令语法"><a href="#2-一些常见的其它指令语法" class="headerlink" title="(2) 一些常见的其它指令语法"></a><strong>(2) 一些常见的其它指令语法</strong></h3><div class="tabs" id="commandgrammar"><ul class="nav-tabs"><li class="tab active"><a href="#commandgrammar-1"><code>v-if</code> 与 <code>v-show</code></a></li><li class="tab"><a href="#commandgrammar-2"><code>v-for</code></a></li><li class="tab"><a href="#commandgrammar-3"><code>v-text</code></a></li><li class="tab"><a href="#commandgrammar-4"><code>v-html</code></a></li><li class="tab"><a href="#commandgrammar-5"><code>v-cloak</code></a></li><li class="tab"><a href="#commandgrammar-6"><code>v-once</code></a></li><li class="tab"><a href="#commandgrammar-7"><code>v-pre</code></a></li></ul><div class="tab-content"><div class="tab-pane active" id="commandgrammar-1"><p>下述的关键字可以直接当作属性使用，不需要去绑定HTML原生的属性。</p>
<table>
<thead>
<tr>
<th align="center">关键字</th>
<th align="center">效果</th>
<th align="center">参数类型</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>v-show</code></td>
<td align="center">控制该元素是否显示</td>
<td align="center"><code>boolean</code></td>
</tr>
<tr>
<td align="center"><code>v-if</code></td>
<td align="center">控制元素是否出现在HTML中</td>
<td align="center"><code>boolean</code></td>
</tr>
<tr>
<td align="center"><code>v-else-if</code></td>
<td align="center">当上一个<code>v-if</code> 不成立时，控制当前元素是否出现在HTML中</td>
<td align="center"><code>boolean</code></td>
</tr>
<tr>
<td align="center"><code>v-else</code></td>
<td align="center">当它之前的 <code>v-if</code> 和 <code>v-else-if</code> 都不成立时，当前元素将出现在HTML中</td>
<td align="center">无</td>
</tr>
</tbody></table>
<div class="note warning"><div style="color:goldenrod;font-size:1.5em;"><strong><code>v-if</code> 的限制与 <code>v-show</code> 的限制</strong></div>

<div style="color:goldenrod;"><code>v-if</code> 、 <code>v-else-if</code> 和 <code>v-else</code> 这三者的使用方法与JavaScript的控制流很相似，它们所控制的元素必须是相邻的兄弟元素，中间不允许插入其他元素，否则控制语句将不会生效。并且它们是直接控制元素是否出现在HTML中，频繁地切换可能导致卡顿。<br>
而 <code>v-show</code> 不能作为 <code>&lt;template&gt;</code> 标签的属性，只有 <code>v-if</code> 可以。 <code>&lt;template&gt;</code> 标签在渲染时会被移除，不会影响HTML的展示结构。
</div>
</div></div><div class="tab-pane" id="commandgrammar-2"><p><code>v-for</code> 属性常用于 <code>&lt;li&gt;</code> 标签。它可以生成列表。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 无序列表 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 使用v-for来生成列表 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(Element,Index) in List&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;Element.Name&#125;&#125;，&#123;&#123;Element.Type&#125;&#125;，&#123;&#123;Index&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 需要被遍历的数组</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">List</span>: [</span></span><br><span class="line"><span class="language-javascript">                &#123; <span class="title class_">Name</span>: <span class="string">&quot;Lacia&quot;</span>, <span class="title class_">Type</span>: <span class="string">&quot;Type-005&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123; <span class="title class_">Name</span>: <span class="string">&quot;Kouka&quot;</span>, <span class="title class_">Type</span>: <span class="string">&quot;Type-001&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123; <span class="title class_">Name</span>: <span class="string">&quot;Method&quot;</span>, <span class="title class_">Type</span>: <span class="string">&quot;Type-004&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>上述代码的效果如下：</p>
<p><img src="/2022/03/12/VueGrammar01/12.png" alt="12 12" title="12"></p>
<p><code>v-for</code> 与JavaScript的 <code>for</code> 有些许差异（或许有点像数组的 <code>forEach()</code> 方法）。<code>v-for</code> 接受两个迭代变量。</p>
<ul>
<li>当被遍历的变量是数组时，前者是该元素的值，后者是该元素的索引。</li>
<li>当被遍历的变量是对象时，前者是属性值，后者是属性名。</li>
<li>当被遍历的变量是字符串时，前者是字符，后者是该字符的索引。</li>
<li>当被遍历的变量是数字时，前者是从1开始的递增序列，后者是从0开始的递增序列。</li>
</ul>
<p>在使用 <code>v-for</code> 属性时，强烈建议搭配上 <code>:key</code> 属性一起使用。从名字上来看， <code>key</code> 只是个普通属性，只是使用了 <code>v-bind</code> 绑定了而已。事实上，该属性不会出现在HTML文件中，但它依然重要。</p>
<p>在上文的计算属性一节曾经提到了Vue中存在“缓存”。事实上，在HTML最终渲染完成前，Vue会先处理一次HTML中被接管的元素，然后再用处理后的元素替换HTML中的元素。为了减少处理次数，Vue维护了一个“缓存”。当更新网页中被接管的元素时，Vue会倾向于优先使用“缓存”。而这就是 <code>:key</code> 属性的重要之处。</p>
<p>先来看看不加 <code>:key</code> 属性会有什么下场：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(Element,Index) in List&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;Element.Name&#125;&#125;，&#123;&#123;Element.Type&#125;&#125;，&#123;&#123;Index&#125;&#125;</span><br><span class="line">            <span class="comment">&lt;!-- 每一行后添加一个输入框 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 按钮，其功能是向数组的首部添加元素 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;Add&quot;</span>&gt;</span>列表增加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">List</span>: [</span></span><br><span class="line"><span class="language-javascript">                &#123; <span class="title class_">Name</span>: <span class="string">&quot;Lacia&quot;</span>, <span class="title class_">Type</span>: <span class="string">&quot;Type-005&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123; <span class="title class_">Name</span>: <span class="string">&quot;Kouka&quot;</span>, <span class="title class_">Type</span>: <span class="string">&quot;Type-001&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123; <span class="title class_">Name</span>: <span class="string">&quot;Method&quot;</span>, <span class="title class_">Type</span>: <span class="string">&quot;Type-004&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Add</span>()</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">List</span>.<span class="title function_">unshift</span>(&#123; <span class="title class_">Name</span>: <span class="string">&quot;Undefined&quot;</span>, <span class="title class_">Type</span>: <span class="string">&quot;Unknown&quot;</span> &#125;);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>打开网页，先不点按钮，在点按钮之前先向输入框中输入一些数据：</p>
<p><img src="/2022/03/12/VueGrammar01/13.png" alt="13 13" title="13"></p>
<p>然后再点击“列表增加按钮”：</p>
<p><img src="/2022/03/12/VueGrammar01/14.png" alt="14 14" title="14"></p>
<p>不幸的事情发生了。可以看到输入框中的数据并没有因为插入了新的行而向下移动。Vue在执行修改时，会倾向于优先使用“缓存”，也就是倾向于做最小改动。当不写 <code>:key</code> 时，Vue会默认帮你维护一个 <code>:key</code> ，它的值等于索引。Vue在执行修改时，会比对两个 <code>&lt;li&gt;</code> 元素的 <code>:key</code> 属性。如果一致，则认为这两个元素是对应的，若文本结点不一致，则会在原有的文本节点上进行修改。因此，第一行开头的文本原本是 <code>Lacia</code> ，Vue不是在它之前插入一行，而是将其中的文本进行了修改。</p>
<p>当对比到 <code>&lt;li&gt;</code> 元素内部的 <code>&lt;input&gt;</code> 元素时，由于输入框中的信息是之后用户添加的，并不会影响到Vue的缓存，因此比对时Vue会认为前后的  <code>&lt;input&gt;</code> 元素是一致的，不会做任何修改。这就产生了相当严重的问题。</p>
<p>因此， <code>:key</code> 属性的值应当能够唯一标识数组（或对象等）内的、当前正在显示的元素，否则就会因Vue的“缓存”机制而发生不幸的事故。上述代码中，由于是在数组的头部添加元素，使数组的顺序发生了改变，索引所标识的对象也就发生了改变，最终导致上述的异常状况。</p></div><div class="tab-pane" id="commandgrammar-3"><p>它的作用与插值语法一致，但它是通过作为HTML元素的属性生效的，并且它会完全覆盖元素内的文本。</p>
<p>由于过于简单，此处不做过多赘述。</p></div><div class="tab-pane" id="commandgrammar-4"><p>它的作用与 <code>v-text</code> 差不多，但 <code>v-html</code> 会将其中的HTML语言变成真实的HTML元素。</p></div><div class="tab-pane" id="commandgrammar-5"><p>该属性不需要值，也没有什么实际作用，Vue在接管HTML元素后会删除该属性。它常与CSS搭配，用于网页加载时间较长时，隐藏未被Vue处理的原HTML内容。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 属性选择器 */</span></span><br><span class="line"><span class="comment">/* 选中所有含有v-cloak属性的元素 */</span></span><br><span class="line"><span class="selector-attr">[v-cloak]</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在Vue介入之前，所有含有 <code>v-cloak</code> 属性的元素都不会被显示；而当Vue接管HTML元素以后， <code>v-cloak</code> 属性会被删除，Vue接管后的元素将被显示在网页中。</p></div><div class="tab-pane" id="commandgrammar-6"><p><code>v-once</code> 属性不需要值，含有此属性的HTML元素只会在Vue接管它时初始化一次，之后其中的插值语法、 <code>v-text</code> 等值不会被更改。</p></div><div class="tab-pane" id="commandgrammar-7"><p><code>v-pre</code> 属性不需要值，它会跳过Vue对HTML元素的解析，即：即便该元素含有插值语法或指令语法，Vue也会忽略。可以使用该属性加快不含Vue语法的元素的解析。</p></div></div></div>

<h3 id="3-自定义指令"><a href="#3-自定义指令" class="headerlink" title="(3) 自定义指令"></a><strong>(3) 自定义指令</strong></h3><p>Vue构造函数的参数对象可以设置 <code>directives</code> 属性。该属性就是控制自定义指令的属性。该属性下的属性有两种设置方法：对象式与函数式。</p>
<h4 id="1-函数式"><a href="#1-函数式" class="headerlink" title="1. 函数式"></a><strong>1. 函数式</strong></h4><p>首先来看一段代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 注意该div元素有id属性，它被唯一标识了 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Vue中并没有v-custom指令，它是自定义指令 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;#target&quot;</span> <span class="attr">v-custom</span>=<span class="string">&quot;HIE&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> <span class="title class_">Item</span> = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#test&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">HIE</span>: <span class="string">&quot;Lacia&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 与自定义指令相关的属性</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">directives</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 定义v-custom属性</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">custom</span>(<span class="params">element, binding</span>)</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 查看参数是什么</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(element);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(binding);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>浏览器的控制台将输出：</p>
<p><img src="/2022/03/12/VueGrammar01/19.png" alt="19 19" title="19"></p>
<p>可以看到，使用自定义指令时不需要加上前缀的 <code>v-</code> 。并且，函数式的自定义指令可以接受两个参数，前者是一个HTML元素对象，指向使用了该指令的HTML元素；后者是一个对象，它包含了该指令的名称（ <code>name</code> 属性）、原名称（ <code>rawName</code> 属性）、它的值（ <code>expression</code> 属性）、它的值在 <code>data</code> 属性中的值（ <code>value</code> 属性）。在拿到相应的HTML元素和自定义指令的值以后，使用者就可以“为所欲为”了。JavaScript DOM中已经详述过了，此处不做赘述。</p>
<p>函数式的自定义指令，在它所在的Vue接管的HTML元素需要解析或重新解析（也就是加载或更新页面数据）时会被调用，不论是否改变了该自定义指令所用到的值。</p>
<h4 id="2-对象式"><a href="#2-对象式" class="headerlink" title="2. 对象式"></a><strong>2. 对象式</strong></h4><p>相比函数式自定义指令，对象式自定义指令相对繁琐，但它能更精确地控制HTML元素的行为。</p>
<p>对象式自定义指令内应当有三个函数： <code>bind()</code>、<code>inserted()</code>、<code>update()</code> ，它们将分别在绑定HTML元素时、处理后的HTML元素被插入页面时、更新HTML元素时被执行。</p>
<table>
<thead>
<tr>
<th align="center">方法名</th>
<th align="center">参数</th>
<th align="center">被调用时间</th>
<th align="center">建议写在其中的功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>bind()</code></td>
<td align="center">HTML元素、对象</td>
<td align="center">Vue接管HTML元素之后，HTML元素被插入网页之前</td>
<td align="center">初始化时需要执行的功能，例如值初始化。</td>
</tr>
<tr>
<td align="center"><code>inserted()</code></td>
<td align="center">HTML元素、对象</td>
<td align="center">HTML元素被插入网页之后，网页加载完毕之前</td>
<td align="center">需要初始化时被执行，但又必须等到HTML元素被插入网页后的功能。例如自动获取焦点。</td>
</tr>
<tr>
<td align="center"><code>update()</code></td>
<td align="center">HTML元素、对象</td>
<td align="center">更新HTML元素时</td>
<td align="center">HTML元素的更新行为。</td>
</tr>
</tbody></table>
<div class="note warning"><div style="color:goldenrod;font-size:1.5em;"><strong>自定义指令的 <code>this</code></strong></div>

<div style="color:goldenrod;">不论是在函数式自定义指令中，还是在对象式自定义指令的方法中， <code>this</code> 都是指向 <code>window</code> 对象而非Vue实例的。</div>
</div>

<h4 id="3-全局自定义指令"><a href="#3-全局自定义指令" class="headerlink" title="3. 全局自定义指令"></a><strong>3. 全局自定义指令</strong></h4><p>上述两种方法定义的自定义指令，只能在它所在的Vue实例中使用。要想设置全局可用的自定义指令，可以直接使用Vue对象下的 <code>directive()</code> 方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种方式：函数式自定义指令</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;Lacia&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ·······</span></span><br><span class="line">    <span class="comment">// 你的代码</span></span><br><span class="line">    <span class="comment">// ·······</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种方式：对象式自定义指令</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;Kouka&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">bind</span>(<span class="params"></span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ·······</span></span><br><span class="line">        <span class="comment">// 你的代码</span></span><br><span class="line">        <span class="comment">// ·······</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">inserted</span>(<span class="params"></span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ·······</span></span><br><span class="line">        <span class="comment">// 你的代码</span></span><br><span class="line">        <span class="comment">// ·······</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">update</span>(<span class="params"></span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ·······</span></span><br><span class="line">        <span class="comment">// 你的代码</span></span><br><span class="line">        <span class="comment">// ·······</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>共和国工科生
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://ayanami-daisuki.github.io/2022/03/12/VueGrammar01/" title="Vue基础（一）">https://ayanami-daisuki.github.io/2022/03/12/VueGrammar01/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-cn" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="followme">
  <span>欢迎关注我的其它发布渠道</span>

  <div class="social-list">

      <div class="social-item">
        <a target="_blank" class="social-link" href="https://github.com/Ayanami-Daisuki">
          <span class="icon">
            <i class="fab fa-github"></i>
          </span>

          <span class="label">GitHub</span>
        </a>
      </div>

      <div class="social-item">
        <a target="_blank" class="social-link" href="https://gitee.com/RepublicEngineeringStudent">
          <span class="icon">
            <i class="fab fa-google"></i>
          </span>

          <span class="label">Gitee</span>
        </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" rel="tag"><i class="fa fa-tag"></i> 计算机科学</a>
              <a href="/tags/JavaScript%E5%BA%93/" rel="tag"><i class="fa fa-tag"></i> JavaScript库</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/03/07/JavaGrammar05/" rel="prev" title="Java基础（五）">
                  <i class="fa fa-chevron-left"></i> Java基础（五）
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/04/18/VueGrammar02/" rel="next" title="Vue基础（二）">
                  Vue基础（二） <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-scale-balanced"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">共和国工科生</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">347k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">5:16</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="/lib/animejs/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="/lib/@next-theme/pjax/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="/lib/pangu/dist/browser/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  
<script src="/lib/hexo-generator-searchdb/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"neutral","dark":"neutral"},"js":{"url":"/lib/mermaid/dist/mermaid.min.js","integrity":"sha256-7wT34TI0pEBeEFoi4z+vhuSddGh6vUTMWdqJ2SDe2jg="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/pace.js"></script>

  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"/lib/mathjax/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
